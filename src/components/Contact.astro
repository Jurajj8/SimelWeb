---
import Container from "./Container.astro";
---

<div id="contact" class="relative py-16" >
  <div aria-hidden="true" class="absolute inset-0 h-max w-full m-auto grid grid-cols-2 -space-x-52 opacity-40  opacity-20">
    <div class="blur-[106px] h-56 bg-gradient-to-br from-primary to-purple-400  from-blue-700"></div>
    <div class="blur-[106px] h-32 bg-gradient-to-r from-cyan-400 to-sky-300  to-indigo-600"></div>
  </div>
  <Container>
    <div>
      <button 
        id="contact-button" 
        class="relative flex h-12 w-full max-w-xs items-center justify-center px-8 before:absolute before:inset-0 before:rounded-full before:bg-primary before:transition before:duration-300 hover:before:scale-105 active:duration-75 active:before:scale-95">
        <span class="relative text-base font-semibold text-white">Kontaktovať</span>
      </button>
      
      <!-- Modal -->
      <div id="contact-modal" class="fixed inset-0 z-50 hidden bg-black/50 backdrop-blur-sm">
        <div class="relative bg-white  bg-gray-900 rounded-lg shadow-lg p-8 md:p-12 lg:p-16 w-full max-w-md m-auto">
          <button 
            id="close-modal" 
            class="absolute top-4 right-4 text-gray-600  text-gray-300 hover:text-gray-900  hover:text-white">
            &times;
          </button>
          <h2 class="text-3xl font-bold text-gray-800  text-white text-center">Kontaktujte nás</h2>
          <p class="text-gray-600  text-gray-300 text-center mt-4">
            Máte otázky alebo potrebujete viac informácií? Pošlite nám správu a my sa vám ozveme čo najskôr.
          </p>
          <form class="mt-8 space-y-6">
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700  text-gray-300">Meno</label>
              <input 
                type="text" 
                id="name" 
                name="name" 
                required 
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary  border-gray-700  bg-gray-800  focus:border-primary  focus:ring-primary"
              />
            </div>
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700  text-gray-300">E-mail</label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                required 
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary  border-gray-700  bg-gray-800  focus:border-primary  focus:ring-primary"
              />
            </div>
            <div>
              <label for="message" class="block text-sm font-medium text-gray-700  text-gray-300">Správa</label>
              <textarea 
                id="message" 
                name="message" 
                rows="4" 
                required 
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary  border-gray-700  bg-gray-800  focus:border-primary  focus:ring-primary"
              ></textarea>
            </div>
            <div class="flex justify-center">
              <button 
                type="submit" 
                class="relative flex h-12 w-full max-w-xs items-center justify-center px-8 before:absolute before:inset-0 before:rounded-full before:bg-primary before:transition before:duration-300 hover:before:scale-105 active:duration-75 active:before:scale-95">
                <span class="relative text-base font-semibold text-white">Odoslať</span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </Container>
</div>

<script>
  const contactButton = document.getElementById('contact-button');
  const contactModal = document.getElementById('contact-modal');
  const closeModal = document.getElementById('close-modal');

  contactButton.addEventListener('click', () => {
    contactModal.classList.remove('hidden');
  });

  closeModal.addEventListener('click', () => {
    contactModal.classList.add('hidden');
  });

  window.addEventListener('click', (e) => {
    if (e.target === contactModal) {
      contactModal.classList.add('hidden');
    }
  });
</script>
